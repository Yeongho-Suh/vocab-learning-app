# 영어 단어 학습 웹 서비스 - 프로젝트 계획

## 📋 프로젝트 개요

**목표:** 저장한 영어 단어와 한글 뜻, 예문을 매일 랜덤으로 보여주는 웹 서비스

### 핵심 요구사항
- 저장한 영어 단어와 한글 뜻, 예문을 매일 랜덤으로 보여주는 웹 서비스
- 위 단어는 매일 오전 6시에 랜덤으로 바뀜
- 단어가 한번 노출되면 다른 단어가 모두 노출될때까지는 보여지지 않음 (모든 단어는 최소 1회 보여주어야 함)
- 영어단어, 한글 뜻, 예문은 노션(Notion) 페이지에 데이터베이스 형식으로 저장되어 있음

---

## 🏗️ 시스템 구성

### 프론트엔드
- HTML/CSS/JavaScript (또는 React/Next.js)
- 단어 표시 UI
- 반응형 디자인 (모바일 친화적)

### 백엔드
- Node.js + Express (또는 Next.js API Routes)
- Notion API 연동
- 단어 선택 로직 처리

### 데이터베이스
- SQLite 또는 PostgreSQL (노출 이력 관리용)
- 또는 JSON 파일 기반 간단한 저장소

### 스케줄러
- node-cron 또는 cron job
- 매일 오전 6시 단어 갱신

---

## 🛠️ 핵심 기능 구현 단계

### Phase 1: Notion API 연동
1. Notion Integration 생성
2. Notion 데이터베이스 ID 확인
3. 데이터베이스 구조 설계:
   - 영어 단어 (Title)
   - 한글 뜻 (Text)
   - 예문 (Text)
4. Notion API로 단어 목록 가져오기

### Phase 2: 단어 관리 로직
1. **노출 이력 관리:**
   - 이미 보여준 단어 ID 저장
   - 모든 단어가 1회씩 노출되면 이력 초기화

2. **랜덤 선택 알고리즘:**
   ```
   - Notion에서 전체 단어 목록 가져오기
   - 노출 이력에서 이미 본 단어 제외
   - 남은 단어 중 랜덤 선택
   - 선택된 단어 ID를 이력에 저장
   ```

### Phase 3: 스케줄링 시스템
1. 매일 오전 6시 자동 실행
2. 새로운 단어 선택 및 저장
3. 웹 페이지 접속 시 오늘의 단어 표시

### Phase 4: 웹 인터페이스
1. 깔끔한 단어 카드 UI
2. 영어 단어 (큰 글씨)
3. 한글 뜻
4. 예문 표시
5. 다음 갱신 시간 표시

---

## 📊 데이터 구조

### Notion 데이터베이스
```
- Word (Title): English word
- Meaning (Text): 한글 뜻
- Example (Text): 예문
- ID: Notion이 자동 생성
```

### 노출 이력 저장 (로컬 DB/파일)
```json
{
  "current_word": "word_id_123",
  "shown_words": ["word_id_123", "word_id_456"],
  "last_updated": "2026-02-13T06:00:00Z",
  "total_words": 100
}
```

---

## 💻 기술 스택 추천

### 옵션 A - 간단한 구성
- Next.js (프론트+백엔드 통합)
- Notion SDK (@notionhq/client)
- node-cron (스케줄링)
- SQLite (이력 관리)
- Vercel 배포

### 옵션 B - 최소 구성
- Vanilla HTML/CSS/JS
- Node.js + Express
- JSON 파일로 이력 관리
- PM2로 프로세스 관리
- 개인 서버 배포

---

## 🖥️ 개발환경 세팅

### 필수 설치 프로그램

각 컴퓨터(회사/집)에 아래 프로그램을 설치해야 합니다.

| 프로그램 | 용도 | 다운로드 |
|---------|------|---------|
| **Node.js** (LTS) | JavaScript 런타임 | https://nodejs.org |
| **Git** | 소스코드 버전 관리 | https://git-scm.com |
| **VS Code** | 코드 에디터 | https://code.visualstudio.com |

### Git 초기 설정 (각 컴퓨터에서 1회)

```bash
git config --global user.name "Yeongho-Suh"
git config --global user.email "zxczxc1680@gmail.com"
```

### 프로젝트 최초 세팅 (첫 번째 컴퓨터)

```bash
# Next.js 프로젝트 생성
npx create-next-app@latest vocab-learning-app
cd vocab-learning-app

# Notion SDK 설치
npm install @notionhq/client

# GitHub 원격 저장소 연결
git remote add origin https://github.com/Yeongho-Suh/vocab-learning-app.git
git branch -M main
git push -u origin main
```

### 추가 컴퓨터 세팅 (두 번째 컴퓨터 이후)

```bash
# GitHub에서 프로젝트 복사
git clone https://github.com/Yeongho-Suh/vocab-learning-app.git
cd vocab-learning-app

# 패키지 설치
npm install

# 환경 변수 파일 생성 (수동)
# .env.local 파일을 만들고 아래 내용 입력
# NOTION_API_KEY=secret_xxxxxxxxxxxx
# NOTION_DATABASE_ID=xxxxxxxxxxxx
```

### 환경 변수 관리

```bash
# .env.local (각 컴퓨터마다 수동 생성, Git에 업로드되지 않음)
NOTION_API_KEY=secret_xxxxxxxxxxxx
NOTION_DATABASE_ID=xxxxxxxxxxxx

# .env.example (Git에 포함, 템플릿 역할)
NOTION_API_KEY=your_notion_api_key_here
NOTION_DATABASE_ID=your_database_id_here
```

> ⚠️ `.env.local`은 API 키 같은 민감한 정보가 담겨 있으므로 **절대 Git에 커밋하지 않습니다.**
> 새 컴퓨터에서는 `.env.example`을 참고하여 `.env.local`을 직접 생성해야 합니다.

---

## 🔄 동기화(Sync) 방안

### 동기화 대상 및 방법

```
[회사 PC] ←→ [GitHub Repository] ←→ [집 PC]
```

| 동기화 대상 | 방법 | 자동/수동 |
|------------|------|----------|
| **소스코드** | GitHub (git push/pull) | 수동 (작업 전후) |
| **패키지 목록** | package.json (GitHub 포함) | 자동 (git pull 후 npm install) |
| **환경 변수** | .env.local (각 PC 수동 생성) | 수동 (1회) |
| **VS Code 설정** | Settings Sync (GitHub 계정) | 자동 |
| **VS Code 확장 프로그램** | Settings Sync 또는 .vscode/extensions.json | 자동 |
| **프로젝트별 에디터 설정** | .vscode/settings.json (GitHub 포함) | 자동 (git pull) |

### 1. 소스코드 동기화 (GitHub)

**매 작업 시 흐름:**
```bash
# 1. 작업 시작 전 - 최신 코드 받기
git pull origin main

# 2. 코드 작업...

# 3. 작업 완료 후 - 변경사항 업로드
git add .
git commit -m "작업 내용 설명"
git push origin main
```

> 핵심 규칙: **작업 전 pull, 작업 후 push**

### 2. VS Code 환경 동기화 (Settings Sync)

VS Code 내장 Settings Sync 기능으로 모든 설정을 자동 동기화합니다.

**설정 방법 (각 컴퓨터에서 1회):**
```
1. VS Code 열기
2. 좌측 하단 톱니바퀴 아이콘 클릭
3. "Turn on Settings Sync..." 클릭
4. 동기화 항목 선택:
   - Settings (설정)
   - Keyboard Shortcuts (단축키)
   - Extensions (확장 프로그램)
   - User Snippets (스니펫)
   - UI State (레이아웃)
5. GitHub 계정으로 로그인
```

**동기화되는 항목:**
- 설치한 확장 프로그램 (자동 설치됨)
- 에디터 설정 (폰트, 색상 테마, 탭 크기 등)
- 키보드 단축키
- 코드 스니펫

### 3. 프로젝트별 설정 동기화 (.vscode 폴더)

프로젝트 루트에 `.vscode/` 폴더를 만들어 Git으로 공유합니다.

**.vscode/settings.json:**
```json
{
  "editor.fontSize": 14,
  "editor.tabSize": 2,
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
```

**.vscode/extensions.json:**
```json
{
  "recommendations": [
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint",
    "eamodio.gitlens"
  ]
}
```

### 4. 새 컴퓨터 세팅 체크리스트

새 컴퓨터에서 개발을 시작할 때 아래 체크리스트를 따릅니다:

- [ ] Node.js 설치 (LTS 버전)
- [ ] Git 설치 및 사용자 설정
- [ ] VS Code 설치
- [ ] VS Code Settings Sync 켜기 (GitHub 로그인)
- [ ] 프로젝트 클론: `git clone https://github.com/Yeongho-Suh/vocab-learning-app.git`
- [ ] 패키지 설치: `npm install`
- [ ] 환경 변수 생성: `.env.local` 파일 작성
- [ ] 개발 서버 실행 확인: `npm run dev`
- [ ] 추천 확장 프로그램 설치 (알림 클릭 또는 수동)

---

## 📝 구현 순서

1. ✅ Notion 데이터베이스 생성 및 샘플 데이터 입력
2. ✅ Notion API Integration 설정
3. ✅ 백엔드: Notion에서 단어 가져오기 API 구현
4. ✅ 백엔드: 랜덤 단어 선택 로직 구현
5. ✅ 백엔드: 노출 이력 관리 시스템 구현
6. ✅ 백엔드: 스케줄러 설정 (매일 오전 6시)
7. ✅ 프론트엔드: UI 구현
8. ✅ 통합 테스트
9. ✅ 배포

---

## ⚠️ 추가 고려사항

- **타임존 설정:** 오전 6시 기준 (한국 시간 KST)
- **에러 처리:** Notion API 연결 실패 시 대응
- **초기 상태:** 첫 실행 시 랜덤 단어 선택
- **관리자 기능:** 수동으로 단어 새로고침 (선택사항)

---

## 🔄 배포 옵션

### 무료로 구현
- **옵션 1:** Vercel (프론트+API) + GitHub Actions (무료 Cron)
- **옵션 2:** Render (모든 기능 무료로 가능)

### 유료 괜찮다면
- Vercel Pro ($20/월) - 가장 편리함, Cron Jobs 포함
